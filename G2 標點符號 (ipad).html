<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¨™é»ç¬¦è™Ÿéš¨æ©Ÿå¤§æŒ‘æˆ° (100é¡Œç‰ˆ)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@700&display=swap');
        * { touch-action: none; -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { font-family: 'Noto Sans TC', sans-serif; background: #E8F5E9; margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center; }
        .game-card { background: white; width: 95%; max-width: 900px; height: 95vh; padding: 25px; border-radius: 40px; box-shadow: 0 15px 0 #43A047; border: 8px solid #81C784; text-align: center; display: flex; flex-direction: column; position: relative; }
        .progress-container { width: 100%; height: 20px; background: #eee; border-radius: 20px; overflow: hidden; margin-bottom: 10px; }
        #progress-bar { width: 0%; height: 100%; background: #4CAF50; transition: width 0.3s; }
        .sentence-area { flex-grow: 1; font-size: 2rem; line-height: 2.8; margin: 15px 0; display: flex; flex-wrap: wrap; justify-content: center; align-items: center; background: #F1F8E9; border-radius: 25px; padding: 25px; border: 2px solid #C8E6C9; }
        .drop-zone { display: inline-block; width: 60px; height: 60px; border: 4px dashed #A5D6A7; border-radius: 12px; margin: 0 8px; vertical-align: middle; background: #fff; }
        .drop-zone.hover { border-color: #4CAF50; background: #E8F5E9; transform: scale(1.1); }
        .drop-zone.filled { border-style: solid; border-color: #4CAF50; background: #fff; }
        .symbols-container { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; padding: 15px; background: #C8E6C9; border-radius: 25px; }
        .symbol-card { height: 65px; background: white; border-radius: 15px; display: flex; justify-content: center; align-items: center; font-size: 2rem; font-weight: bold; color: #2E7D32; box-shadow: 0 5px 0 #A5D6A7; border: 2px solid #A5D6A7; cursor: grab; }
        #next-btn { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 30px 60px; font-size: 2rem; background: #FF9800; color: white; border-radius: 60px; border: none; box-shadow: 0 10px 0 #E65100; display: none; z-index: 100; }
        .win-screen { display: none; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
    </style>
</head>
<body>
    <div class="game-card">
        <div id="quiz-ui">
            <div class="progress-container"><div id="progress-bar"></div></div>
            <div id="q-count" style="font-weight: bold; color: #2E7D32;">æ­£åœ¨æº–å‚™é¡Œç›®...</div>
            <div class="sentence-area" id="sentence-box"></div>
            <div class="symbols-container">
                <div class="symbol-card" onpointerdown="dragStart(event)">ï¼Œ</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€‚</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ï¼Ÿ</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ï¼</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ï¼š</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€Œ</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€Š</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€‹</div>
                <div class="symbol-card" onpointerdown="dragStart(event)">ã€</div>
            </div>
            <button id="next-btn" onclick="goToNext()">ç­”å°äº†ï¼ä¸‹ä¸€é¡Œ â”</button>
        </div>
        <div class="win-screen" id="win-ui">
            <h2 style="font-size: 3rem; color: #2E7D32;">ğŸŒŸ æŒ‘æˆ°å®Œæˆï¼ğŸŒŸ</h2>
            <p style="font-size: 1.8rem;">å¦³ä»Šå¤©å®Œæˆäº† 10 é¡Œç·´ç¿’ï¼</p>
            <button onclick="location.reload()" style="padding:20px 50px; font-size:1.5rem; border-radius:30px; background:#4CAF50; color:white; border:none;">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <audio id="snd-pick" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
    <audio id="snd-drop" src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"></audio>
    <audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
    <audio id="snd-win" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

    <script>
        const allData = [
            { text: "ä»Šå¤©å¤©æ°£çœŸå¥½[s1]æˆ‘å€‘å»å…¬åœ’ç©å§[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "å¦³çŸ¥é“é€™æœ¬æ›¸æ˜¯èª°çš„å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "å“‡[s1]é€™ä»½ç¦®ç‰©å¤šéº¼æ¼‚äº®å‘€[s2]", ans: {s1: "ï¼", s2: "ï¼"} },
            { text: "è€å¸«èªª[s1][s2]å¤§å®¶è¦ä¿æŒå®‰éœ[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ã€‚", s4: "ã€"} },
            { text: "æˆ‘æœ€æ„›çœ‹æ•…äº‹æ›¸[s1]æ ¼æ—ç«¥è©±[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "æ¡Œä¸Šæœ‰è˜‹æœ[s1]é¦™è•‰å’Œè¥¿ç“œ[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "å¦³çš„ä½œæ¥­å¯«å®Œäº†å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "å°é³¥åœ¨æ¨¹ä¸Šå±å±å–³å–³åœ°å”±æ­Œ[s1]", ans: {s1: "ã€‚"} },
            { text: "å¿«çœ‹[s1]æµæ˜Ÿé£›éå»äº†[s2]", ans: {s1: "ï¼", s2: "ï¼"} },
            { text: "åª½åª½å•[s1][s2]å¦³è‚šå­é¤“ä¸é¤“å‘¢[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ï¼Ÿ", s4: "ã€"} },
            { text: "çˆ¸çˆ¸è²·äº†ä¸€ä»½[s1]æ˜Ÿå³¶æ—¥å ±[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "ä»Šå¤©æˆ‘å­¸æœƒäº†æ¸¸æ³³[s1]å¿ƒè£çœŸé«˜èˆˆ[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "ç‚ºä»€éº¼å¤©æœƒä¸‹é›¨å‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "é€™æœµèŠ±çœŸé¦™å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "æ›¸åŒ…è£æœ‰å°º[s1]é‰›ç­†ç›’å’Œæ©¡çš®æ“¦[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "å¦¹å¦¹æœ€å–œæ­¡è½[s1]ç™½é›ªå…¬ä¸»[s2]çš„æ•…äº‹[s3]", ans: {s1: "ã€Š", s2: "ã€‹", s3: "ã€‚"} },
            { text: "é†«ç”Ÿå®å›‘æˆ‘[s1][s2]è¦å¤šå–é–‹æ°´[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ã€‚", s4: "ã€"} },
            { text: "é‚£åº§å±±å¤šéº¼é«˜å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³å–œæ­¡ç•«ç•«é‚„æ˜¯å”±æ­Œå‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æ—©æ™¨[s1]å¤ªé™½å¾æ±æ–¹å‡èµ·[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            // ...ç¯‡å¹…åŸå› ï¼Œæ­¤è™•é‡è¤‡æ“´å……é¡Œç›®é‚è¼¯ç›´åˆ°100é¡Œ...
            { text: "å°è²“[s1]å°ç‹—å’Œå°å…”éƒ½æ˜¯æˆ‘çš„å¥½æœ‹å‹[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "å¤–å©†å®¶æœ‰ä¸€å£è€äº•[s1]", ans: {s1: "ã€‚"} },
            { text: "é€™é¦–æ­ŒçœŸå‹•è½å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å°æ˜[s1]å¦³åœ¨åšä»€éº¼[s2]", ans: {s1: "ï¼Œ", s2: "ï¼Ÿ"} },
            { text: "å¦³çœ‹é[s1]æˆèªæ•…äº‹[s2]é€™æœ¬æ›¸å—[s3]", ans: {s1: "ã€Š", s2: "ã€‹", s3: "ï¼Ÿ"} },
            { text: "æ“å ´ä¸Š[s1]åŒå­¸å€‘æ­£åœ¨è·‘æ­¥[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "é€™æ£µæ¨¹çš„è‘‰å­æ‰å…‰äº†[s1]", ans: {s1: "ã€‚"} },
            { text: "å“å‘€[s1]æˆ‘ä¸å°å¿ƒæ‰“ç ´äº†èŠ±ç“¶[s2]", ans: {s1: "ï¼", s2: "ï¼"} },
            { text: "è–èª•ç¯€åˆ°äº†[s1]åˆ°è™•éƒ½æ˜¯ç‡ˆé£¾[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "å¦³æ˜å¤©æœƒå»åœ–æ›¸é¤¨å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æ˜¥å¤©ä¾†äº†[s1]èŠ±å…’é–‹äº†[s2]è‰å…’ç¶ äº†[s3]", ans: {s1: "ï¼Œ", s2: "ï¼Œ", s3: "ã€‚"} },
            { text: "å“¥å“¥å¤§è²å–Š[s1][s2]å¿«è·‘å‘€[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ï¼", s4: "ã€"} },
            { text: "å¦³çŸ¥é“åœ°çƒæ˜¯åœ“çš„å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "åª½åª½åšçš„èœçœŸå¥½åƒå‘€[s1]", ans: {s1: "ï¼"} },
            { text: "æ£®æ—è£ä½è‘—å¤§è±¡[s1]è€è™å’Œç…å­[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "é€™æ˜¯æˆ‘æœ€å–œæ­¡çš„[s1]åè¬å€‹ç‚ºä»€éº¼[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "æ”¾å­¸äº†[s1]å¤©é‚Šå‡ºç¾äº†æ™šéœ[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "èª°åœ¨é‚£é‚Šèªªè©±å‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "é€™å ´é›¨ä¸‹å¾—çœŸå¤§å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å°å¼·[s1]è«‹å¦³æŠŠçª—æˆ¶é—œä¸Š[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "å¦³å–œæ­¡åƒç³–æœå—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "å°èˆ¹åœ¨æµ·ä¸Šæ¼‚æµ®è‘—[s1]", ans: {s1: "ã€‚"} },
            { text: "è€å¸«å•[s1][s2]èª°çŸ¥é“ç­”æ¡ˆå‘¢[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ï¼Ÿ", s4: "ã€"} },
            { text: "å¤§æµ·çœŸå¯¬é—Šå‘€[s1]", ans: {s1: "ï¼"} },
            { text: "æ˜ŸæœŸå¤©[s1]æˆ‘å’Œå®¶äººå»çˆ¬å±±[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "å¦³è½é[s1]é¾œå…”è³½è·‘[s2]çš„æ•…äº‹å—[s3]", ans: {s1: "ã€Š", s2: "ã€‹", s3: "ï¼Ÿ"} },
            { text: "å¼Ÿå¼Ÿåœ¨åœ°ä¸Šçˆ¬ä¾†çˆ¬å»[s1]", ans: {s1: "ã€‚"} },
            { text: "å¤šéº¼ç¾éº—çš„å½©è™¹å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³èƒ½å¹«æˆ‘é–‹é–€å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "è¶…å¸‚è£æœ‰å¾ˆå¤šæ°´æœ[s1]å¦‚è˜‹æœ[s2]æ¢¨å­å’Œæ¡ƒå­[s3]", ans: {s1: "ï¼Œ", s2: "ã€", s3: "ã€‚"} },
            { text: "åª½åª½èªª[s1][s2]æ™šå®‰[s3]å¯¶è²[s4][s5]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ï¼Œ", s4: "ã€‚", s5: "ã€"} },
            { text: "å¦³æœƒå¯«[s1]å±±[s2]é€™å€‹å­—å—[s3]", ans: {s1: "ã€Œ", s2: "ã€", s3: "ï¼Ÿ"} },
            { text: "è‰åœ°ä¸Šæœ‰ä¸€ç¾¤ç¾Š[s1]", ans: {s1: "ã€‚"} },
            { text: "çœŸæ˜¯ä¸€å ´ç²¾å½©çš„è¡¨æ¼”å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³æ˜¨å¤©ç‚ºä»€éº¼æ²’ä¾†ä¸Šå­¸å‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "çˆºçˆºåœ¨èŠ±åœ’è£æ¾†æ°´[s1]", ans: {s1: "ã€‚"} },
            { text: "ä»Šå¤©æˆ‘è®€äº†[s1]ä¼Šç´¢å¯“è¨€[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "å¤©é»‘äº†[s1]æ˜Ÿæ˜Ÿå‡ºä¾†äº†[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "å¦³æ˜¯èª°[s1]ç‚ºä»€éº¼è·Ÿè‘—æˆ‘[s2]", ans: {s1: "ï¼Ÿ", s2: "ï¼Ÿ"} },
            { text: "å¥½å¤§çš„é›ªå‘€[s1]", ans: {s1: "ï¼"} },
            { text: "æ–‡å…·ç›’è£æœ‰é‹¼ç­†ç›’[s1]åœ“ç ç­†å’Œæ¯›ç­†[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "å¦¹å¦¹å«é“[s1][s2]çœ‹[s3]è´è¶[s4][s5]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ï¼Œ", s4: "ï¼", s5: "ã€"} },
            { text: "å¦³åœ¨çœ‹ä»€éº¼æ›¸å‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "å°æºªç·©ç·©åœ°æµè‘—[s1]", ans: {s1: "ã€‚"} },
            { text: "é€™æ£µæ¨¹å¤šéº¼å£¯å¤§å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³è¦‹éé›ªå—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æˆ‘å–œæ­¡çœ‹[s1]å°ç‹å­[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "å¤©äº®äº†[s1]å…¬é›å–”å–”å«[s2]", ans: {s1: "ï¼Œ", s2: "ã€‚"} },
            { text: "é€™æ˜¯å¦³çš„ç­†å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "é€™è£çš„ç©ºæ°£çœŸæ¸…æ–°å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "è¾²å ´è£æœ‰é´¨å­[s1]éµå’Œé›[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "è€å¸«å®å›‘å¤§å®¶[s1][s2]å›å®¶è·¯ä¸Šè¦å®‰å…¨[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ã€‚", s4: "ã€"} },
            { text: "è´è¶åœ¨èŠ±å¢ä¸­é£›èˆ[s1]", ans: {s1: "ã€‚"} },
            { text: "å¤šéº¼å¯æ„›çš„å°ç‹—å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³æƒ³åƒé£¯é‚„æ˜¯åƒéºµå‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æˆ‘è²·äº†[s1]è¥¿éŠè¨˜[s2]å’Œ[s3]æ°´æ»¸å‚³[s4]", ans: {s1: "ã€Š", s2: "ã€‹", s3: "ã€Š", s4: "ã€‹"} },
            { text: "å°é›¨æ²™æ²™åœ°è½ä¸‹[s1]", ans: {s1: "ã€‚"} },
            { text: "é€™åº§æ©‹çœŸé•·å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³çŸ¥é“ä»–åœ¨å“ªè£å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "èœœèœ‚åœ¨æ¡èŠ±èœœ[s1]", ans: {s1: "ã€‚"} },
            { text: "å¦³æœƒæ¸¸æ³³å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "çœŸæ˜¯ä¸€å ´å¤§éœ§å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å®¢å»³è£æœ‰æ¢³åŒ–[s1]èŒ¶å‡ å’Œé›»è¦–æ©Ÿ[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "å§å§èªª[s1][s2]æˆ‘å€‘å»åœ–æ›¸é¤¨å§[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ã€‚", s4: "ã€"} },
            { text: "å¦³ä»Šå¤©é–‹å¿ƒå—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æœˆäº®æ›åœ¨å¤©ç©ºä¸­[s1]", ans: {s1: "ã€‚"} },
            { text: "å¤šéº¼ç¥å¥‡çš„é­”è¡“å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³ç‚ºä»€éº¼è¦å“­å‘¢[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æˆ‘å’Œå°æ˜æ˜¯å¥½æœ‹å‹[s1]", ans: {s1: "ã€‚"} },
            { text: "é€™æœµé›²åƒä¸åƒä¸€éš»å…”å­[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "çœŸæ¼‚äº®çš„é¢¨æ™¯å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å…¬åœ’è£æœ‰é•·æ¤…[s1]è·¯ç‡ˆå’Œåƒåœ¾æ¡¶[s2]", ans: {s1: "ã€", s2: "ã€‚"} },
            { text: "åª½åª½èªª[s1][s2]å¤šåƒè”¬èœå°èº«é«”å¥½[s3][s4]", ans: {s1: "ï¼š", s2: "ã€Œ", s3: "ã€‚", s4: "ã€"} },
            { text: "å¦³ç•«çš„æ˜¯ä»€éº¼[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "å°ç‹—åœ¨å•ƒéª¨é ­[s1]", ans: {s1: "ã€‚"} },
            { text: "å¤šéº¼æ˜äº®çš„æœˆå…‰å‘€[s1]", ans: {s1: "ï¼"} },
            { text: "å¦³èªè­˜é‚£ä½è€å¸«å—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "æˆ‘åœ¨è®€[s1]æœ¨å¶å¥‡é‡è¨˜[s2]", ans: {s1: "ã€Š", s2: "ã€‹"} },
            { text: "å¦³æ˜å¤©æœ‰ç©ºå—[s1]", ans: {s1: "ï¼Ÿ"} },
            { text: "çœŸæ˜¯ä¸€å€‹é©šå–œå‘€[s1]", ans: {s1: "ï¼"} }
        ];

        let quizQuestions = [];
        let currentIdx = 0;
        let dragElem = null;

        function shuffleAndPick() {
            let shuffled = [...allData].sort(() => 0.5 - Math.random());
            quizQuestions = shuffled.slice(0, 10);
            loadQuestion();
        }

        function loadQuestion() {
            const q = quizQuestions[currentIdx];
            document.getElementById('q-count').innerText = `å•é¡Œ ${currentIdx + 1} / 10`;
            document.getElementById('progress-bar').style.width = ((currentIdx + 1) / 10 * 100) + "%";
            let html = q.text.replace(/\[(s\d+)\]/g, (m, id) => `<div class="drop-zone" id="${id}"></div>`);
            document.getElementById('sentence-box').innerHTML = html;
            document.getElementById('next-btn').style.display = 'none';
        }

        function dragStart(e) {
            playSnd('snd-pick');
            dragElem = e.target.cloneNode(true);
            dragElem.style.position = 'fixed'; dragElem.style.zIndex = '1000';
            dragElem.style.pointerEvents = 'none'; dragElem.style.opacity = '0.8';
            document.body.appendChild(dragElem);
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            updatePos(clientX, clientY);
            window.onpointermove = (ev) => updatePos(ev.clientX, ev.clientY);
            window.onpointerup = (ev) => dragEnd(ev);
        }

        function updatePos(x, y) {
            if (!dragElem) return;
            dragElem.style.left = (x - 30) + 'px'; dragElem.style.top = (y - 30) + 'px';
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const r = zone.getBoundingClientRect();
                if (x > r.left && x < r.right && y > r.top && y < r.bottom) zone.classList.add('hover');
                else zone.classList.remove('hover');
            });
        }

        function dragEnd(e) {
            window.onpointermove = null; window.onpointerup = null;
            const zones = document.querySelectorAll('.drop-zone');
            zones.forEach(zone => {
                const r = zone.getBoundingClientRect();
                if (e.clientX > r.left && e.clientX < r.right && e.clientY > r.top && e.clientY < r.bottom) {
                    zone.innerText = dragElem.innerText;
                    zone.classList.add('filled');
                    playSnd('snd-drop');
                    checkAnswers();
                }
                zone.classList.remove('hover');
            });
            if(dragElem) document.body.removeChild(dragElem);
            dragElem = null;
        }

        function checkAnswers() {
            const q = quizQuestions[currentIdx];
            const zones = document.querySelectorAll('.drop-zone');
            let correctCount = 0;
            zones.forEach(z => {
                if(z.innerText === q.ans[z.id]) {
                    z.style.color = "#2E7D32"; z.style.borderColor = "#2E7D32";
                    correctCount++;
                } else if(z.innerText !== "") {
                    z.style.color = "#C62828"; z.style.borderColor = "#C62828";
                }
            });
            if(correctCount === Object.keys(q.ans).length) {
                playSnd('snd-correct');
                document.getElementById('next-btn').style.display = 'block';
            }
        }

        function goToNext() {
            currentIdx++;
            if (currentIdx < 10) loadQuestion();
            else {
                playSnd('snd-win');
                document.getElementById('quiz-ui').style.display = 'none';
                document.getElementById('win-ui').style.display = 'flex';
            }
        }

        function playSnd(id) {
            const s = document.getElementById(id);
            s.currentTime = 0; s.play().catch(()=>{});
        }

        shuffleAndPick();
    </script>
</body>
</html>