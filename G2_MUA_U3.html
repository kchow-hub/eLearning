<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>éŸ³æ¨‚æ¬£è³è¤‡ç¿’ï¼šåœ¨å±±å¤§ç‹çš„æ®¿ä¸­</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2196F3;
            --error-color: #f44336;
            --bg-color: #f8f9fa;
        }
        body {
            font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #game-container {
            width: 100%;
            max-width: 600px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px;
            box-sizing: border-box;
        }
        .header {
            text-align: center;
            border-bottom: 2px solid #eee;
            margin-bottom: 15px;
            padding-bottom: 10px;
        }
        .header h1 { font-size: 1.1rem; color: #333; margin: 5px 0; }
        .yt-btn {
            background-color: #ff0000; color: white; border: none; padding: 10px 15px;
            border-radius: 50px; text-decoration: none; display: inline-flex;
            align-items: center; font-weight: bold; margin: 5px 0; font-size: 0.9rem;
        }
        .stats {
            display: flex; justify-content: space-between; background: #e3f2fd;
            padding: 10px; border-radius: 10px; font-weight: bold; margin-bottom: 15px;
        }
        .question-box {
            font-size: 1.3rem; line-height: 1.5; margin-bottom: 20px;
            min-height: 100px; position: relative; padding-right: 45px;
        }
        .speaker-icon {
            cursor: pointer; font-size: 2.2rem; position: absolute;
            right: 0; top: 0; color: var(--secondary-color);
        }
        .options-container { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .btn {
            padding: 15px; font-size: 1.2rem; border: 2px solid #ddd;
            border-radius: 12px; background: white; cursor: pointer; text-align: left;
        }
        .correct { background-color: #c8e6c9 !important; border-color: #4caf50 !important; }
        .wrong { background-color: #ffcdd2 !important; border-color: #f44336 !important; }
        #feedback {
            margin-top: 15px; padding: 12px; border-radius: 10px;
            display: none; text-align: center; font-weight: bold; font-size: 1.1rem;
        }
        #next-btn {
            display: none; width: 100%; margin-top: 15px; padding: 18px;
            background-color: var(--primary-color); color: white; border: none;
            border-radius: 12px; font-size: 1.4rem; font-weight: bold;
        }
    </style>
</head>
<body>

<div id="game-container">
    <div class="header">
        <h1>ã€ç¬¬ä¸‰èª²ï¼šã€Šçš®çˆ¾é‡‘ç¬¬ä¸€è™Ÿçµ„æ›²ã€‹åœ¨å±±å¤§ç‹çš„æ®¿ä¸­ ã€‘</h1>
        <p>è‘›åˆ©æ ¼(1843-1907) Edvard Grieg</p>
        <a href="https://www.youtube.com/watch?v=MNbzcokFJsM" target="_blank" class="yt-btn">â–¶ YouTube å½±ç‰‡</a>
    </div>

    <div id="game-ui">
        <div class="stats">
            <span id="progress-done">å·²å®Œæˆï¼š0</span>
            <span id="progress-left">é¤˜ä¸‹ï¼š0</span>
        </div>
        <div class="question-box">
            <span id="question-text">è¼‰å…¥ä¸­...</span>
            <span class="speaker-icon" onclick="speakQuestion()">ğŸ”Š</span>
        </div>
        <div id="options" class="options-container"></div>
        <div id="feedback"></div>
        <button id="next-btn" onclick="loadNextQuestion()">ä¸‹ä¸€é¡Œ</button>
    </div>
</div>

<script>
    const examQuestions = [
        // ä½œæ›²å®¶ç”Ÿå¹³ [cite: 14, 15, 21, 22, 23, 24]
        { q: "ä½œæ›²å®¶è‘›åˆ©æ ¼ (Edvard Grieg) å‡ºç”Ÿæ–¼å“ªä¸€å€‹åœ‹å®¶ï¼Ÿ", a: "æŒªå¨", o: ["æŒªå¨", "å¾·åœ‹", "ä¿„åœ‹"] },
        { q: "è‘›åˆ©æ ¼åœ¨å¹¾æ­²æ™‚é–‹å§‹è·Ÿæ¯è¦ªå­¸ç¿’é‹¼ç´ï¼Ÿ", a: "6æ­²", o: ["6æ­²", "10æ­²", "15æ­²"] },
        { q: "è‘›åˆ©æ ¼ 15 æ­²æ™‚åˆ°äº†å“ªä¸€å€‹åœ‹å®¶çš„éŸ³æ¨‚å­¸é™¢å­¸ç¿’éŸ³æ¨‚ï¼Ÿ", a: "å¾·åœ‹ (èŠæ¯”éŒ«)", o: ["å¾·åœ‹ (èŠæ¯”éŒ«)", "æŒªå¨", "å¥§åœ°åˆ©"] },
        
        // æ¨‚æ›²ä»‹ç´¹ [cite: 26, 27, 29, 31, 32]
        { q: "ã€Šçš®çˆ¾é‡‘ã€‹åŸæœ¬æ˜¯æ–‡è±ªæ˜“åœç”Ÿåœ¨ 1867 å¹´å¯«ä¸‹çš„ä»€éº¼ä½œå“ï¼Ÿ", a: "åŠ‡æœ¬", o: ["åŠ‡æœ¬", "é›»å½±", "äº¤éŸ¿æ›²"] },
        { q: "è‘›åˆ©æ ¼ç‚ºåŠ‡æœ¬å‰µä½œçš„ã€ŒåŠ‡æ¨‚ã€ï¼Œæ˜¯æŒ‡æˆ²åŠ‡ä¸­ä¼´éš¨åŠ‡æƒ…çš„ä»€éº¼ï¼Ÿ", a: "é…æ¨‚", o: ["é…æ¨‚", "èˆè¹ˆ", "æœè£"] },
        { q: "åŠ‡æ¨‚çš„ä½œç”¨æ˜¯ç‚ºäº†çªé¡¯åŠ‡æƒ…ä¸­ç„¡æ³•ç”¨ä»€éº¼è¡¨é”çš„æƒ…å¢ƒï¼Ÿ", a: "è¨€èª", o: ["è¨€èª", "å‹•ä½œ", "ç‡ˆå…‰"] },
        { q: "ã€Šçš®çˆ¾é‡‘ç¬¬ä¸€è™Ÿçµ„æ›²ã€‹æ˜¯ä¸€é¦–ä»€éº¼é¡å‹çš„æ¨‚æ›²ï¼Ÿ", a: "ç®¡å¼¦æ¨‚æ›²", o: ["ç®¡å¼¦æ¨‚æ›²", "é‹¼ç´ç¨å¥æ›²", "åˆå”±æ›²"] },
        
        // çµ„æ›²å…§å®¹ [cite: 33, 34]
        { q: "è‘›åˆ©æ ¼å¾ 23 é¦–åŠ‡æ¨‚ä¸­é¸å‡ºå¹¾é¦–ç·¨å¯«æˆå…©å€‹çµ„æ›²ï¼Ÿ", a: "8é¦–", o: ["8é¦–", "4é¦–", "23é¦–"] },
        { q: "ã€Šçš®çˆ¾é‡‘ç¬¬ä¸€è™Ÿçµ„æ›²ã€‹åŒ…å«å¹¾é¦–æ¨‚æ›²ï¼Ÿ", a: "4é¦–", o: ["4é¦–", "8é¦–", "2é¦–"] },
        { q: "ã€Šçš®çˆ¾é‡‘ç¬¬ä¸€è™Ÿçµ„æ›²ã€‹åŒ…æ‹¬ã€Šåœ¨å±±å¤§ç‹çš„æ®¿ä¸­ã€‹ã€ã€Šæ¸…æ™¨ã€‹ã€ã€Šå®‰å¦®ç‰¹æ‹‰ä¹‹èˆã€‹åŠ __________ã€‚", a: "ã€Šå¥§è³½ä¹‹æ­»ã€‹", o: ["ã€Šå¥§è³½ä¹‹æ­»ã€‹", "ã€Šçš®çˆ¾é‡‘ä¹‹æ­»ã€‹", "ã€Šå±±å¤§ç‹ä¹‹èˆã€‹"] },
        
        // æ•…äº‹å…§å®¹ 
        { q: "çš®çˆ¾é‡‘åœ¨å±±ä¸Šé‡è¦‹çš„ã€Œç¶ è¡£å°‘å¥³ã€æ˜¯èª°çš„å¥³å…’ï¼Ÿ", a: "å±±å¤§ç‹", o: ["å±±å¤§ç‹", "æ£®æ—åœ‹ç‹", "æŒªå¨åœ‹ç‹"] },
        { q: "å±±å¤§ç‹ä¸€æ€’ä¹‹ä¸‹ï¼ŒæŠŠçš®çˆ¾é‡‘é—œé€²äº†å“ªè£¡ï¼Ÿ", a: "ç›£ç‰¢", o: ["ç›£ç‰¢", "æ·±äº•", "å±±æ´"] },
        { q: "çš®çˆ¾é‡‘æœ€å¾Œç™¼ç¾äº†ä»€éº¼ï¼Œè®“ä»–å¯ä»¥å·å·é€ƒé›¢ç›£ç‰¢ï¼Ÿ", a: "ç§˜å¯†é€šé“", o: ["ç§˜å¯†é€šé“", "ä¸€æŠŠé‘°åŒ™", "éš±å½¢æ–—ç¯·"] },
        { q: "ç•¶çš®çˆ¾é‡‘é€ƒè·‘æ™‚ï¼Œèª°é–‹å§‹ç™¼ç¾ä¸¦è¿½æ•ä»–ï¼Ÿ", a: "å±±å¤§ç‹çš„å®ˆè¡›", o: ["å±±å¤§ç‹çš„å®ˆè¡›", "è€è™", "è­¦å¯Ÿ"] },
        { q: "æ•…äº‹æœ€å¾Œæè¿°çš®çˆ¾é‡‘å¦‚ä½•é€ƒè·‘ï¼Ÿ", a: "ç˜‹ç‹‚åœ°æ‹¼å‘½é€ƒè·‘", o: ["ç˜‹ç‹‚åœ°æ‹¼å‘½é€ƒè·‘", "æ…¢æ…¢åœ°èµ°", "èº²åœ¨è‰å¢è£¡"] },

        // éŸ³æ¨‚ç‰¹è‰² [cite: 43, 44, 45, 51, 105, 107]
        { q: "ã€Šåœ¨å±±å¤§ç‹çš„æ®¿ä¸­ã€‹çš„ä¸»é¡Œæ—‹å¾‹æ˜¯ç”±ä»€éº¼æ¨‚å™¨æ¼”å¥ï¼Ÿ", a: "å·´æ¾ç®¡", o: ["å·´æ¾ç®¡", "é•·ç¬›", "å°æç´"] },
        { q: "å·´æ¾ç®¡æ˜¯ä»¥å“ªå…©ç¨®å¥æ³•ä¾†æ¼”å¥ä¸»é¡Œæ—‹å¾‹ï¼Ÿ", a: "è·³éŸ³å’Œé‡éŸ³", o: ["è·³éŸ³å’Œé‡éŸ³", "é€£éŸ³å’Œé‡éŸ³", "è·³éŸ³å’Œé€£éŸ³"] },
        { q: "è‘›åˆ©æ ¼é€éé‡è¤‡çš„ä»€éº¼ä¾†æè¿°çš®çˆ¾é‡‘é€ƒè·‘çš„è…³æ­¥è²ï¼Ÿ", a: "ç¯€å¥", o: ["ç¯€å¥", "æ¨‚å™¨", "éŸ³è‰²"] },
        { q: "æ¨‚æ›²ä»¥ä»€éº¼æ‰‹æ³•è¡¨é”å®ˆè¡›é€¼è¿‘æ™‚çš„ç·Šå¼µæ°£æ°›ï¼Ÿ", a: "æ¼¸å¼·å’Œæ¼¸å¿«", o: ["æ¼¸å¼·å’Œæ¼¸å¿«", "æ¼¸å¼±å’Œæ¼¸æ…¢", "æ¼¸å¼·å’Œæ¼¸æ…¢"] },
        { q: "éŸ³æ¨‚æè¿°è¢«è¿½æ•çš„æƒ…æ™¯æ™‚ï¼Œå®ˆè¡›çš„äººæ•¸æœ‰ä»€éº¼è®ŠåŒ–ï¼Ÿ", a: "è¶Šä¾†è¶Šå¤š", o: ["è¶Šä¾†è¶Šå¤š", "è¶Šä¾†è¶Šå°‘", "æ²’æœ‰è®ŠåŒ–"] },

        // é–±è­œèˆ‡ç¬¦è™Ÿ [cite: 43, 56, 129, 130, 131, 133]
        { q: "åœ¨æ¨‚è­œä¸­ï¼ŒéŸ³ç¬¦ä¸Šæ–¹æˆ–ä¸‹æ–¹çš„ã€Œ â€§ ã€å°åœ“é»ä»£è¡¨ä»€éº¼ï¼Ÿ", a: "è·³éŸ³ (staccato)", o: ["è·³éŸ³ (staccato)", "é‡éŸ³ (accent)", "é€£éŸ³ (legato)"] },
        { q: "åœ¨æ¨‚è­œä¸­ï¼Œã€Œ > ã€é€™å€‹ç¬¦è™Ÿä»£è¡¨ä»€éº¼ï¼Ÿ", a: "é‡éŸ³ (accent)", o: ["é‡éŸ³ (accent)", "è·³éŸ³ (staccato)", "å¼±éŸ³ (p)"] },
        { q: "å·´æ¾ç®¡åœ¨æ¨‚è­œä¸­é‹ç”¨çš„æ˜¯ä»€éº¼è­œè™Ÿï¼Ÿ", a: "ä½éŸ³è­œè™Ÿ", o: ["ä½éŸ³è­œè™Ÿ", "é«˜éŸ³è­œè™Ÿ", "ä¸­éŸ³è­œè™Ÿ"] },
        { q: "æ¨‚æ›²çš„æ‹å­è¨˜è™Ÿã€Œ C ã€ä»£è¡¨ä»€éº¼ï¼Ÿ", a: "å››å››æ‹å­", o: ["å››å››æ‹å­", "ä¸‰å››æ‹å­", "äºŒå››æ‹å­"] },
        { q: "é€™é¦–æ¨‚æ›²é‹ç”¨äº†ä»€éº¼èª¿æ€§ä¾†è¡¨é”çš®çˆ¾é‡‘æ…Œå¼µçš„å¿ƒæƒ…ï¼Ÿ", a: "å°èª¿", o: ["å°èª¿", "å¤§èª¿", "æ··åˆèª¿"] },
        
        // å¼·å¼±è¨˜è™Ÿ 
        { q: "å¼·å¼±è¨˜è™Ÿã€Œ p ã€ä»£è¡¨ä»€éº¼ï¼Ÿ", a: "å¼±éŸ³", o: ["å¼±éŸ³", "å¼·éŸ³", "æ¥µå¼·éŸ³"] },
        { q: "å¼·å¼±è¨˜è™Ÿã€Œ f ã€ä»£è¡¨ä»€éº¼ï¼Ÿ", a: "å¼·éŸ³", o: ["å¼·éŸ³", "å¼±éŸ³", "æ¼¸å¼·"] },
        { q: "å¼·å¼±è¨˜è™Ÿã€Œ ff ã€ä»£è¡¨ä»€éº¼ï¼Ÿ", a: "æ¥µå¼·éŸ³", o: ["æ¥µå¼·éŸ³", "å¼·éŸ³", "å¼±éŸ³"] },
        { q: "ã€Œcresc.ã€é€™å€‹è¨˜è™Ÿä»£è¡¨éŸ³é‡è¦ __________ã€‚", a: "æ¼¸å¼·", o: ["æ¼¸å¼·", "æ¼¸å¼±", "æ¼¸å¿«"] },
        { q: "æ ¹æ“šæ¨‚æ›²ï¼Œå¼·å¼±è¨˜è™Ÿå‡ºç¾çš„æ­£ç¢ºæ¬¡åºæ˜¯ï¼š", a: "p â” cresc. â” f â” ff", o: ["p â” cresc. â” f â” ff", "f â” p â” cresc. â” ff", "p â” f â” cresc. â” ff"] },

        // è–ç¶“é‡‘å¥ [cite: 17, 18, 19, 20]
        { q: "è–ç¶“ç¾…é¦¬æ›¸æ•™å°ï¼šã€Œå› ç‚ºä¸–äººéƒ½çŠ¯äº†ç½ªï¼Œè™§ç¼ºäº†ç¥çš„ __________ã€‚ã€", a: "æ¦®è€€", o: ["æ¦®è€€", "å¤§æ„›", "å¤§èƒ½"] },
        { q: "ã€Œå¦‚ä»Šå»è’™ç¥çš„æ©å…¸ï¼Œå› åŸºç£è€¶ç©Œçš„ __________ï¼Œå°±ç™½ç™½çš„ç¨±ç¾©ã€‚ã€", a: "æ•‘è´–", o: ["æ•‘è´–", "å¼•é ˜", "å¤§èƒ½"] },
        { q: "è—‰è‘—èª°çš„è¡€ï¼Œæˆ‘å€‘çš„ç½ªå¾—ä»¥æ´—æ·¨ï¼ŒéçŠ¯å¾—ä»¥èµ¦å…ï¼Ÿ", a: "è€¶ç©ŒåŸºç£", o: ["è€¶ç©ŒåŸºç£", "å…ˆçŸ¥", "å¤©ä½¿"] },
        { q: "æˆ‘å€‘èƒ½ã€Œå› ä¿¡ç¨±ç¾©ã€æ˜¯å› ç‚ºè€¶ç©Œæˆç‚ºäº†æˆ‘å€‘çš„ __________ã€‚", a: "æ•‘è´–", o: ["æ•‘è´–", "æœ‹å‹", "åœ‹ç‹"] }
    ];

    let questions = [];
    let currentIndex = 0;

    function initGame() {
        questions = [...examQuestions].sort(() => Math.random() - 0.5);
        currentIndex = 0;
        loadQuestion();
    }

    function loadQuestion() {
        const feedback = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const optionsContainer = document.getElementById('options');
        feedback.style.display = 'none';
        nextBtn.style.display = 'none';
        optionsContainer.innerHTML = '';

        if (currentIndex < questions.length) {
            const qData = questions[currentIndex];
            document.getElementById('question-text').innerText = qData.q;
            document.getElementById('progress-done').innerText = `å·²å®Œæˆï¼š${currentIndex}`;
            document.getElementById('progress-left').innerText = `é¤˜ä¸‹ï¼š${questions.length - currentIndex}`;

            const shuffledOptions = [...qData.o].sort(() => Math.random() - 0.5);
            shuffledOptions.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(btn, opt, qData.a);
                optionsContainer.appendChild(btn);
            });
            setTimeout(() => speakQuestion(), 600);
        } else {
            showFinalResult();
        }
    }

    function checkAnswer(selectedBtn, selectedOpt, correctOpt) {
        const btns = document.querySelectorAll('.btn');
        const feedback = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        btns.forEach(b => b.disabled = true);

        if (selectedOpt === correctOpt) {
            selectedBtn.classList.add('correct');
            feedback.innerHTML = "âœ“ ç­”å°äº†ï¼ä½ å¥½æ£’ï¼";
            feedback.style.color = "#2e7d32";
        } else {
            selectedBtn.classList.add('wrong');
            feedback.innerHTML = `âœ— ç­”éŒ¯äº†ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correctOpt}`;
            feedback.style.color = "#d32f2f";
            btns.forEach(b => { if(b.innerText === correctOpt) b.classList.add('correct'); });
        }
        feedback.style.display = 'block';
        nextBtn.style.display = 'block';
    }

    function loadNextQuestion() { currentIndex++; loadQuestion(); }

    function speakQuestion() {
        const text = document.getElementById('question-text').innerText;
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'zh-HK';
        msg.rate = 0.9;
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(msg);
    }

    function showFinalResult() {
        const container = document.getElementById('game-ui');
        container.innerHTML = `
            <div style="text-align:center; padding:30px;">
                <h2 style="font-size:2rem; color:#f57f17;">ğŸ† å…¨é¢è¤‡ç¿’å®Œæˆï¼</h2>
                <p style="font-size:1.4rem;">ä½ å®Œæˆäº†æ‰€æœ‰ ${examQuestions.length} é¡ŒçŸ¥è­˜é»ï¼</p>
                <button class="btn" style="width:100%; text-align:center; background:#ffeb3b;" onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
            </div>
        `;
    }
    initGame();
</script>
</body>
</html>