<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è–ç¶“ç§‘ G2 U5 è¤‡ç¿’éŠæˆ²</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --success: #2ecc71;
            --error: #e74c3c;
            --bg: #fdfdfd;
        }
        body {
            font-family: -apple-system, "PingFang HK", sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        #game-container {
            width: 90%;
            max-width: 450px;
            background: white;
            padding: 25px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        .info-bar {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        #progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.4s ease;
        }
        .speaker-btn {
            background: #f0f0f0;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 28px;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 #ddd;
        }
        .question-text {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 25px;
            line-height: 1.6;
            min-height: 4em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .options-grid {
            display: grid;
            gap: 12px;
        }
        .btn-opt {
            background: white;
            border: 2px solid #dfe6e9;
            padding: 16px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 500;
            cursor: pointer;
            transition: 0.2s;
        }
        .correct { background: var(--success) !important; color: white; border-color: var(--success) !important; }
        .wrong { background: var(--error) !important; color: white; border-color: var(--error) !important; }
        #hint-box {
            margin-top: 20px;
            font-weight: bold;
            color: var(--error);
            min-height: 24px;
        }
        .screen { display: none; }
        .active { display: block; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen" class="screen active">
        <h1 style="color: var(--primary);">è–ç¶“ç§‘è¤‡ç¿’</h1>
        <h3>ç¬¬äº”èª²ï¼šç‚ºåˆ¥äººç¦±å‘Š</h3>
        <p>å…¨ç¯„åœé¡Œç›®è¦†è“‹</p>
        <button class="btn-opt" style="width:100%; background: var(--primary); color:white;" onclick="startGame()">é–‹å§‹è¤‡ç¿’ (è‡ªå‹•æœ—è®€)</button>
    </div>

    <div id="quiz-screen" class="screen">
        <div class="info-bar">
            <span id="stat-done">å·²å®Œæˆ: 0 / 17</span>
            <span id="stat-remain">é¤˜ä¸‹: 17 é¡Œ</span>
        </div>
        <div class="progress-bar"><div id="progress-fill"></div></div>
        
        <button class="speaker-btn" onclick="speakCurrentQuestion()">ğŸ”Š</button>
        <div id="q-display" class="question-text"></div>
        
        <div id="options-display" class="options-grid"></div>
        <div id="hint-box"></div>
    </div>

    <div id="end-screen" class="screen">
        <h2>ğŸ‰ å¤ªæ£’äº†ï¼è¤‡ç¿’å®Œç•¢</h2>
        <p id="final-result"></p>
        <button class="btn-opt" style="width:100%; background: var(--primary); color:white;" onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
    </div>
</div>

<script>
    const rawData = [
        // ç¶“æ–‡é–±è®€èˆ‡é¸æ“‡ [cite: 19, 50-54]
        { q: "äºä¼¯æ‹‰ç½•æ˜¯å€‹ä»€éº¼æ¨£çš„äººï¼Ÿ", a: "ç¾©äºº", o: ["ç¾©äºº", "æƒ¡äºº"] },
        { q: "äºä¼¯æ‹‰ç½•è¡Œç¥çœ¼ä¸­çœ‹ç‚º __________ çš„äº‹ã€‚", a: "æ­£", o: ["æ­£", "æƒ¡"] },
        { q: "äºä¼¯æ‹‰ç½• __________ ç‚ºæ‰€å¤šç‘ªå’Œè›¾æ‘©æ‹‰çš„äººä»£æ±‚ã€‚", a: "ç›¡åŠ›", o: ["ç›¡åŠ›", "æ²’æœ‰"] },
        { q: "äºä¼¯æ‹‰ç½•å…±å‘ç¥ä»£æ±‚äº†å¤šå°‘æ¬¡ï¼Ÿ", a: "å…­æ¬¡", o: ["å…­æ¬¡", "ä¸‰æ¬¡", "åæ¬¡"] },
        { q: "ç¥èªªè‹¥åœ¨é‚£è£¡æ‰¾åˆ° __________ å€‹ç¾©äººï¼Œç¥‚å°±ä¸æ¯€æ»…é‚£åŸã€‚", a: "å", o: ["å", "äº”å", "äº”"] },
        
        // çœŸç†åæ€ [cite: 29-31]
        { q: "ç¥æ˜¯å…¬ç¾©çš„ï¼Œç¥‚å¿…å¯©åˆ¤äººçš„ __________ ã€‚", a: "ç½ªæƒ¡", o: ["ç½ªæƒ¡", "å–„è‰¯"] },
        { q: "ç¥æ˜¯æ…ˆæ„›çš„ï¼Œç¥‚å¿…çœ‹é¡§ç¾©äººï¼Œä¸¦æ‡‰å…ä»–å€‘çš„ __________ ã€‚", a: "ç¦±å‘Š", o: ["ç¦±å‘Š", "è¦æ±‚"] },
        
        // å­¸è€Œå¾Œè¡Œ [cite: 32-36, 55]
        { q: "ç¥ä¸å–œæ‚…ç½ªæƒ¡ï¼Œæˆ‘å€‘è¦ __________ æƒ¡äº‹ã€‚", a: "é é›¢", o: ["é é›¢", "è¿½æ±‚"] },
        { q: "æˆ‘å€‘è¦è­¦é†’ï¼Œè¿½æ±‚ __________ ï¼Œé é›¢æƒ¡äº‹ã€‚", a: "è–æ½”", o: ["è–æ½”", "åæ¬¡"] },
        { q: "æˆ‘å€‘å¯ä»¥å­¸æ•ˆ __________ ç‚ºåˆ¥äººçš„ç½ªä»£æ±‚ã€‚", a: "äºä¼¯æ‹‰ç½•", o: ["äºä¼¯æ‹‰ç½•", "ç¾…å¾—"] },
        { q: "ç‚ºåˆ¥äººä»£æ±‚ï¼Œé¡˜ä»–å€‘çš„ __________ å¾—åˆ°æ”¹è®Šã€‚", a: "ç”Ÿå‘½", o: ["ç”Ÿå‘½", "è²¡å¯Œ"] },
        
        // é‡‘å¥å¡«å…… [cite: 39-46]
        { q: "é‡‘å¥ï¼š __________ ç¥ˆç¦±æ‰€ç™¼çš„åŠ›é‡æ˜¯å¤§æœ‰åŠŸæ•ˆçš„ã€‚", a: "ç¾©äºº", o: ["ç¾©äºº", "ç½ªäºº", "å£äºº"] },
        { q: "é‡‘å¥ï¼šç¾©äººç¥ˆç¦± __________ æ˜¯å¤§æœ‰åŠŸæ•ˆçš„ã€‚", a: "æ‰€ç™¼çš„åŠ›é‡", o: ["æ‰€ç™¼çš„åŠ›é‡", "èªªçš„è©±èª"] },
        { q: "é‡‘å¥ï¼šç¾©äººç¥ˆç¦±æ‰€ç™¼çš„åŠ›é‡æ˜¯ __________ åŠŸæ•ˆçš„ã€‚", a: "æ˜¯å¤§æœ‰", o: ["æ˜¯å¤§æœ‰", "æ²’æœ‰", "å¾ˆå°‘"] },
        
        // ç½ªçš„è¡Œç‚º [cite: 59-69]
        { q: "ä»¥ä¸‹å“ªä¸€é …æ˜¯ç½ªçš„è¡Œç‚ºï¼Ÿ", a: "å–ç¬‘åˆ¥äºº", o: ["å–ç¬‘åˆ¥äºº", "ç¨±è®šåˆ¥äºº"] },
        { q: "ä»¥ä¸‹å“ªä¸€é …æ˜¯ç½ªçš„è¡Œç‚ºï¼Ÿ", a: "å¦’å¿Œåˆ¥äººçš„æˆç¸¾", o: ["å¦’å¿Œåˆ¥äººçš„æˆç¸¾", "èˆ‡äººåˆ†äº«"] },
        { q: "ä»¥ä¸‹å“ªä¸€é …æ˜¯ç½ªçš„è¡Œç‚ºï¼Ÿ", a: "å·æ±è¥¿", o: ["å·æ±è¥¿", "å¹«åŠ©äºº"] }
    ];

    let questions = [];
    let currentIdx = 0;
    let score = 0;

    function startGame() {
        questions = [...rawData].sort(() => Math.random() - 0.5);
        document.getElementById('start-screen').classList.remove('active');
        document.getElementById('quiz-screen').classList.add('active');
        loadQuestion();
    }

    function loadQuestion() {
        const data = questions[currentIdx];
        const total = questions.length;

        document.getElementById('stat-done').innerText = `å·²å®Œæˆ: ${currentIdx} / ${total}`;
        document.getElementById('stat-remain').innerText = `é¤˜ä¸‹: ${total - currentIdx} é¡Œ`;
        document.getElementById('progress-fill').style.width = `${(currentIdx / total) * 100}%`;
        document.getElementById('q-display').innerText = data.q;
        document.getElementById('hint-box').innerText = "";

        const optionsDiv = document.getElementById('options-display');
        optionsDiv.innerHTML = "";
        
        const shuffledOpts = [...data.o].sort(() => Math.random() - 0.5);
        shuffledOpts.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'btn-opt';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt, data.a, btn);
            optionsDiv.appendChild(btn);
        });

        setTimeout(speakCurrentQuestion, 400);
    }

    function checkAnswer(selected, correct, btn) {
        const btns = document.querySelectorAll('.btn-opt');
        btns.forEach(b => b.disabled = true);

        if (selected === correct) {
            btn.classList.add('correct');
            score++;
            setTimeout(nextQuestion, 1200);
        } else {
            btn.classList.add('wrong');
            document.getElementById('hint-box').innerText = `ğŸ’¡ ç­”æ¡ˆæ˜¯ï¼š${correct}`;
            setTimeout(nextQuestion, 2800);
        }
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < questions.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').classList.remove('active');
        document.getElementById('end-screen').classList.add('active');
        document.getElementById('final-result').innerText = `å®Œæˆæ‰€æœ‰ ${questions.length} é¡Œï¼\nç­”å°äº† ${score} é¡Œã€‚`;
    }

    function speakCurrentQuestion() {
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            const text = questions[currentIdx].q.replace(/__________/g, "ä»€éº¼ä»€éº¼");
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = 'zh-HK';
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        }
    }
</script>

</body>
</html>